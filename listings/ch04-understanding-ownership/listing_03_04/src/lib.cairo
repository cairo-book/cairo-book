//TAG: ignore_fmt
#[derive(Drop)]
struct A {}

fn main() {
    let a1 = gives_ownership(); // gives_ownership moves its return
    // value into a1

    let a2 = A {}; // a2 comes into scope

    let a3 = takes_and_gives_back(a2); // a2 is moved into
// takes_and_gives_back, which also
// moves its return value into a3

} // Here, a3 goes out of scope and is dropped. a2 was moved, so nothing
// happens. a1 goes out of scope and is dropped.

fn gives_ownership() -> A { // gives_ownership will move its
    // return value into the function
    // that calls it

    let some_a = A {}; // some_a comes into scope

    some_a // some_a is returned and
// moves ownership to the calling
// function
}

// This function takes an instance some_a of A and returns it
fn takes_and_gives_back(some_a: A) -> A { // some_a comes into
    // scope

    some_a // some_a is returned and moves
// ownership to the calling
// function
}
